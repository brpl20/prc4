<div class="col-md-12 col-sm-12">

  <h1 class="pull-left mg-left">Usuários</h1>

  <%= link_to new_profile_path, class:"btn btn-success pull-right btn-new" do %>
    <i class="fa fa-plus"></i> Novo Usuário
  <% end %>

  <div class="x_panel">
    <div class="x_content">
      <div class="row">
        <div class="col-sm-12">

          <table id="datatable-list" class="table table-striped table-bordered dt-responsive nowrap dataTable no-footer dtr-inline" cellspacing="0" role="grid" aria-describedby="datatable-responsive_info">
            <thead>
              <tr role="row">
                <th>#</th>
                <th>Nome</th>
                <th>Atribuições</th>
                <th>E-mail</th>
                <th class="table-actions">Ações</th>
              </tr>
            </thead>
            <tbody>
                <% @users.each do |u| %>
                  <tr role="row">
                    <td><%= u.id %></td>
                    <td>
                      <%= u.user_profile.nil? ? '' : u.user_profile.full_name %>
                    </td>
                    <td>
                      <%= u.user_profile.nil? ? 'Não informado' : retrieve_value_from_array(options_for_user_role, u.user_profile.role)%>
                    </td>
                    <td><%= u.email %></td>
                    <td class="table-action-content">

                      <%= link_to edit_profile_path(u), class:"btn btn-primary" do %>
                        <i class="fa fa-edit"></i>
                      <% end %>

                      <%= link_to profile_path(u), class:"btn btn-danger",
                          method: :delete, data: {confirm: "Tem certeza que deseja apagar #{u.email}"} do %>
                          <i class="fa fa-times"></i>
                      <% end %>

                    </td>
                  </tr>
                <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>
